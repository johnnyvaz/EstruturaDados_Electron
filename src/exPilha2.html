<!DOCTYPE html>
<html lang="pt_br">
    <head>
        <meta charset="UTF-8">
        <!-- <meta http-equiv="refresh" content="5;url=expilha.html"> -->
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="node_modules/materialize-css/dist/css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
<div class="navbar-fixed">
  <nav>
    <div class="nav-wrapper">
      <a href="index.html" class="brand-logo">Pilha 2</a>
    </div>
  </nav>
</div>


<form action="">
    <div class="input-field col s12 l6">
      <input type="text" id="expressao" onkeyup="preenche(this)" class="validate">
      <label for="expressao">Digite a explessão</label>
    </div>
    <div class="input-field col s12 l6">
      <input type="text" id="resposta" class="validate">
      <label for="resposta"></label>
    </div>
    <div class="input-field col s12 l6">
      <input type="text" id="valor" class="validate">
      <label for="valor"></label>
    </div>

  </form>

  <script>
    // pop() = retira o último elemento
    // push() = adiciona um elemento no final 
    // shift() = retira o primeiro elemento do quadro
    // unshift() = adiciona um ou mais elementos no início de um array e retorna o número de elementos (propriedade length) atualizado.

    function empilhar(str) {
      var pilha = [];
      for (let i = 0; i < str.length; i++) {
        //var resp = pilha.push((str.charAt(i)));
        switch (str.charAt(i)) {
          case ')':
            if (pilha.pop(i) != '(') {
              alert("Erro! você deve fechar o simbolo " + pilha.pop(i));
              window.location.reload()
            } else {
              // pilha.pop((str.charAt(i)));
            }
            break;
          case ']':
            if (pilha.pop(i) != '[') {
              alert("Erro! você deve fechar o simbolo " + pilha.pop(i));
              window.location.reload()
            } else {
              //pilha.pop((str.charAt(i)));
            }
            break;
          case '}':
            if (pilha.pop(i) != '{') {
              alert("Erro! você deve fechar o simbolo " + pilha.pop(i));
              window.location.reload()
            } else {
              // pilha.pop((str.charAt(i)));
            }
            break;
          default:
            pilha.push((str.charAt(i)));
            break;
        }
      }
      return pilha;
    }

    function preenche() {
      document.getElementById('resposta').value =
        empilhar(document.getElementById('expressao').value);
    }

  </script>




<body>
      <!--JavaScript at end of body for optimized loading-->
      <script type="text/javascript" src="node_modules/materialize-css/dist/js/materialize.min.js"></script>
    </body>
  </html>
        